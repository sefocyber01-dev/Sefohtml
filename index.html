<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sefo Cyber Heart</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: red;
      font-family: monospace;
      font-size: 32px;
      text-align: center;
    }
    #typing {
      position: absolute;
      bottom: 40px;
      width: 100%;
      color: #ff3030;
      font-weight: bold;
      letter-spacing: 3px;
    }
  </style>
</head>
<body>
  <div id="typing"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <script>
    let particles = [];
    let heartPoints = [];
    let phase = 0; // 0: patlama, 1: kalbe dönüşme
    let maxParticles = 400;
    let t = 0;

    // --- Kalp formülü
    function heartFunc(a) {
      let x = 16 * pow(sin(a), 3);
      let y = -(13 * cos(a) - 5 * cos(2*a) - 2 * cos(3*a) - cos(4*a));
      return createVector(x, y);
    }

    function setup() {
      createCanvas(window.innerWidth, window.innerHeight);
      for (let i = 0; i < maxParticles; i++) {
        particles.push({
          pos: createVector(0, 0),
          vel: p5.Vector.random2D().mult(random(2, 8)),
          target: null
        });
      }

      // Kalp için noktaları hazırla
      for (let a = 0; a < TWO_PI; a += 0.02) {
        let p = heartFunc(a).mult(15);
        heartPoints.push(p);
      }

      setTimeout(() => phase = 1, 2000); // 2 saniye sonra kalbe dönüşsün
      typeWriter("Sefo Cyber", 150);     // Yazıyı yazdır
    }

    function draw() {
      background(0, 40);
      translate(width/2, height/2);

      stroke(255, 50, 50, 200);
      strokeWeight(2);
      noFill();

      for (let i = 0; i < particles.length; i++) {
        let p = particles[i];
        if (phase === 0) {
          p.pos.add(p.vel);
          p.vel.mult(0.95);
        } else {
          let target = heartPoints[i % heartPoints.length];
          let desired = p5.Vector.lerp(p.pos, target, 0.05);
          p.pos = desired;
        }
        point(p.pos.x + sin(t + i)*2, p.pos.y + cos(t + i)*2);
      }
      t += 0.02;
    }

    // --- Harf harf yazma efekti ---
    function typeWriter(text, speed) {
      let i = 0;
      let elem = document.getElementById("typing");
      let interval = setInterval(() => {
        elem.innerHTML = text.substring(0, i+1);
        i++;
        if (i === text.length) clearInterval(interval);
      }, speed);
    }
  </script>
</body>
</html>
